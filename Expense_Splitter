import 'package:flutter/material.dart';
void main() {
  runApp(MyApp());
}
class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Expense(),
    );
  }
}
class Expense extends StatefulWidget {
  @override
  State<Expense> createState() => _Split();
}
class _Split extends State<Expense> {
  TextEditingController myController = TextEditingController();
  int amount = 0;
  int people = 2;
  double result = 0;
  bool tip = false;
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text("Expense Splitter")),
      body: Padding(
        padding: EdgeInsets.all(20),
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            TextField(
              controller: myController,
              keyboardType: TextInputType.number,
              decoration: InputDecoration(
                labelText: "Enter Amount",
                border: OutlineInputBorder(),
              ),
            ),
            SizedBox(height: 20),
            DropdownButton<int>(
              value: people,
              items: [2, 3, 4, 5, 6, 7, 8, 9, 10]
                  .map((value) => DropdownMenuItem<int>(
                        value: value,
                        child: Text(value.toString()),
                      ))
                  .toList(),
              onChanged: (int? newValue) {
                setState(() {
                  people = newValue!;
                });
              },
            ),            
            SizedBox(height: 20),
            SwitchListTile(
              title: Text(
                "Include Tip (10%)?",
                style: TextStyle(color: Colors.green),
              ),
              value: tip,
              onChanged: (value) {
                setState(() {
                  tip = value;
                });
              },
            ),
            SizedBox(height: 20),
            ElevatedButton(
              onPressed: () {
                setState(() {
                  amount = int.tryParse(myController.text) ?? 0;
                  result = amount / people;
                  if (tip) {
                    result *= 1.1;
                  }
                });
              },
              child: Text("Calculate Split"),
            ),
            SizedBox(height: 20),
            Text(
              "Each person pays: ${result.toStringAsFixed(2)}",
              style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
            ),
          ],
        ),
      ),
    );
  }
}
